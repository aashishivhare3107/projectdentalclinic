"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[657],{657:function(e,r,t){t.r(r);var n=t(4165),s=t(5861),a=t(4942),u=t(1413),o=t(9439),c=t(2791),i=t(7689),l=t(1087),p=(t(1734),t(3263)),m=t(3402),d=t(9434),f=t(5318),g=t(456),h=t(4971),b=t(184);p.Z.defaults.baseURL="http://127.0.0.1:5000/api",r.default=function(){var e=(0,d.I0)(),r=(0,c.useState)({email:"",password:""}),t=(0,o.Z)(r,2),v=t[0],x=t[1],Z=(0,i.s0)(),k=function(e){var r=e.target,t=r.name,n=r.value;return x((0,u.Z)((0,u.Z)({},v),{},(0,a.Z)({},t,n)))},w=function(){var r=(0,s.Z)((0,n.Z)().mark((function r(t){var s,a,u,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.preventDefault(),s=v.email,a=v.password,s&&a){r.next=7;break}return r.abrupt("return",m.ZP.error("Input field should not be empty"));case 7:if(!(a.length<5)){r.next=9;break}return r.abrupt("return",m.ZP.error("Password must be at least 5 characters long"));case 9:return r.next=11,m.ZP.promise(p.Z.post("/user/login",{email:s,password:a}),{pending:"Logging in...",success:"Login successfully",error:"Unable to login user",loading:"Logging user..."});case 11:u=r.sent,o=u.data,localStorage.setItem("token",o.token),e((0,f.ps)((0,g.Z)(o.token).userId)),y((0,g.Z)(o.token).userId),r.next=21;break;case 18:return r.prev=18,r.t0=r.catch(0),r.abrupt("return",r.t0);case 21:case"end":return r.stop()}}),r,null,[[0,18]])})));return function(e){return r.apply(this,arguments)}}(),y=function(){var r=(0,s.Z)((0,n.Z)().mark((function r(t){var s;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,h.Z)("/user/getuser/".concat(t));case 3:return s=r.sent,e((0,f.ps)(s)),r.abrupt("return",Z("/applyfordoctor"));case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}();return(0,b.jsx)("section",{className:"register-section flex-center",children:(0,b.jsxs)("div",{className:"register-container flex-center",children:[(0,b.jsx)("h2",{className:"form-heading",children:"Sign In"}),(0,b.jsxs)("form",{onSubmit:w,className:"register-form",children:[(0,b.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:v.email,onChange:k}),(0,b.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:v.password,onChange:k}),(0,b.jsx)("button",{type:"submit",className:"btn form-btn",children:"sign in"})]}),(0,b.jsxs)("p",{children:["Not a user?"," ",(0,b.jsx)(l.OL,{className:"login-link",to:"/register",children:"Register"})]})]})})}}}]);
//# sourceMappingURL=657.95a5dc4f.chunk.js.map